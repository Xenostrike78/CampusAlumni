{% extends 'base.html' %}
{% load static %}

{% block title %}Log In - CampusAlumni{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/auth.css' %}">
{% endblock %}

{% block content %}
    <div class="auth-container">
        <!-- Auth Sidebar -->
        <div class="auth-sidebar">
            <div class="auth-logo">Campus<span>Alumni</span></div>
            <p class="auth-tagline">Welcome back to your alumni community</p>
            <div class="auth-illustration">
                <svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
                    <!-- Background Shape -->
                    <rect x="50" y="50" width="400" height="400" rx="20" fill="#4A2C40" opacity="0.05" />
                    
                    <!-- Key Hole -->
                    <circle cx="250" cy="200" r="70" fill="#FFFFFF" stroke="#FFD700" stroke-width="5" />
                    <path class="svg-path" d="M250,270L250,350Q250,370,230,370L210,370" fill="none" stroke="#FFD700" stroke-width="5" />
                    
                    <!-- Connection Lines -->
                    <path class="svg-path" d="M100,200H180" stroke="#FFFFFF" stroke-width="3" />
                    <path class="svg-path" d="M320,200H400" stroke="#FFFFFF" stroke-width="3" />
                    <path class="svg-path" d="M100,300H400" stroke="#FFFFFF" stroke-width="3" />
                    <path class="svg-path" d="M100,100H400" stroke="#FFFFFF" stroke-width="3" />
                    
                    <!-- Animated Circles -->
                    <circle class="floating" style="animation-delay: 0s;" cx="100" cy="100" r="15" fill="#FFFFFF" opacity="0.8" />
                    <circle class="floating" style="animation-delay: 0.5s;" cx="400" cy="100" r="15" fill="#FFFFFF" opacity="0.8" />
                    <circle class="floating" style="animation-delay: 1s;" cx="100" cy="300" r="15" fill="#FFFFFF" opacity="0.8" />
                    <circle class="floating" style="animation-delay: 1.5s;" cx="400" cy="300" r="15" fill="#FFFFFF" opacity="0.8" />
                    <circle class="floating" style="animation-delay: 0.75s;" cx="100" cy="200" r="15" fill="#FFFFFF" opacity="0.8" />
                    <circle class="floating" style="animation-delay: 1.25s;" cx="400" cy="200" r="15" fill="#FFFFFF" opacity="0.8" />
                </svg>
            </div>
        </div>

        <!-- Auth Form -->
        <div class="auth-form-container">
            <div class="auth-form-wrapper">
                <h1 class="auth-form-title">Welcome Back</h1>
                <p class="auth-form-subtitle">Log in to connect with your alumni network</p>

                <form class="auth-form" method="post" action="{% url 'login' %}">
                    {% csrf_token %}
                    
                    {% if messages %}
                    <div class="messages">
                        {% for message in messages %}
                            <div class="form-error">{{ message }}</div>
                        {% endfor %}
                    </div>
                    {% endif %}
                    
                    <div class="form-group">
                        <input type="email" required class="form-control" id="email" name="email" placeholder=" " required>
                        <label for="email" class="form-label">Email Address</label>
                        <div class="form-error" id="email-error">Please enter a valid email address</div>
                    </div>
                    <div class="form-group">
                        <input type="password" required class="form-control" id="password" name="password" placeholder=" " required>
                        <label for="password" class="form-label">Password</label>
                        <i class="fas fa-eye-slash password-toggle" id="password-toggle"></i>
                        <div class="form-error" id="password-error">Please enter your password</div>
                    </div>
                    {% if Invalid %}
                    <div if="emailHelp" class="form-text" style="color: #FF9966;">
                        {{ Invalid }}
                    </div>
                    <br>
                    {% endif %}


                    <button type="submit" class="btn-submit">Log In</button>
                </form>

                <div class="auth-switch">
                    Don't have an account? <a href="{% url 'signup' %}">Sign Up</a>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
